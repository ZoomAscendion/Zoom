{{ config(
    materialized='table',
    on_schema_change='sync_all_columns'
) }}

-- Silver Layer Audit Log Table
-- This table tracks all pipeline executions and data processing activities
-- No pre-hook or post-hook logic included as per requirements

SELECT 
    CAST(NULL AS VARCHAR(255)) as EXECUTION_ID,
    CAST(NULL AS VARCHAR(255)) as PIPELINE_NAME,
    CAST(NULL AS VARCHAR(100)) as PIPELINE_TYPE,
    CAST(NULL AS TIMESTAMP_NTZ(9)) as EXECUTION_START_TIME,
    CAST(NULL AS TIMESTAMP_NTZ(9)) as EXECUTION_END_TIME,
    CAST(NULL AS NUMBER(10,2)) as EXECUTION_DURATION_SECONDS,
    CAST(NULL AS VARCHAR(50)) as EXECUTION_STATUS,
    CAST(NULL AS VARCHAR(255)) as SOURCE_TABLE,
    CAST(NULL AS VARCHAR(255)) as TARGET_TABLE,
    CAST(NULL AS NUMBER(38,0)) as RECORDS_PROCESSED,
    CAST(NULL AS NUMBER(38,0)) as RECORDS_SUCCESS,
    CAST(NULL AS NUMBER(38,0)) as RECORDS_FAILED,
    CAST(NULL AS NUMBER(38,0)) as RECORDS_SKIPPED,
    CAST(NULL AS NUMBER(5,2)) as DATA_QUALITY_SCORE_AVG,
    CAST(NULL AS NUMBER(38,0)) as ERROR_COUNT,
    CAST(NULL AS NUMBER(38,0)) as WARNING_COUNT,
    CAST(NULL AS VARCHAR(100)) as EXECUTION_TRIGGER,
    CAST(NULL AS VARCHAR(255)) as EXECUTED_BY,
    CAST(NULL AS VARIANT) as CONFIGURATION_USED,
    CAST(NULL AS VARIANT) as ERROR_DETAILS,
    CAST(NULL AS VARIANT) as PERFORMANCE_METRICS,
    CAST(NULL AS TIMESTAMP_NTZ(9)) as LOAD_TIMESTAMP,
    CAST(NULL AS TIMESTAMP_NTZ(9)) as UPDATE_TIMESTAMP
WHERE FALSE
