{{ config(
    materialized='table',
    on_schema_change='sync_all_columns'
) }}

-- Silver Layer Audit Log Table
-- Purpose: Track all pipeline executions and data quality metrics
-- No pre-hook or post-hook for audit table itself

SELECT 
    CAST(NULL AS VARCHAR(255)) AS TABLE_NAME,
    CAST(NULL AS VARCHAR(255)) AS COLUMN_NAME,
    CAST(NULL AS VARCHAR(100)) AS ERROR_TYPE,
    CAST(NULL AS VARCHAR(500)) AS ERROR_DESCRIPTION,
    CAST(NULL AS VARCHAR(255)) AS RECORD_ID,
    CAST(NULL AS VARCHAR(500)) AS ORIGINAL_VALUE,
    CAST(NULL AS TIMESTAMP_NTZ(9)) AS AUDIT_TIMESTAMP,
    CAST(NULL AS VARCHAR(50)) AS STATUS,
    CAST(NULL AS NUMBER(38,0)) AS RECORDS_PROCESSED,
    CAST(NULL AS NUMBER(38,0)) AS RECORDS_SUCCESS,
    CAST(NULL AS NUMBER(38,0)) AS RECORDS_FAILED,
    CAST(NULL AS TIMESTAMP_NTZ(9)) AS EXECUTION_START_TIME,
    CAST(NULL AS TIMESTAMP_NTZ(9)) AS EXECUTION_END_TIME,
    CAST(NULL AS VARCHAR(255)) AS EXECUTED_BY,
    CAST(NULL AS TIMESTAMP_NTZ(9)) AS LOAD_TIMESTAMP,
    CAST(NULL AS TIMESTAMP_NTZ(9)) AS UPDATE_TIMESTAMP
WHERE FALSE
